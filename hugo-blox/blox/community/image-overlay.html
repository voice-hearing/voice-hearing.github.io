{{/* Hugo Blox: Features */}}
{{/* Documentation: [https://hugoblox.com/blocks/](https://hugoblox.com/blocks/) */}}
{{/* License: [https://github.com/HugoBlox/hugo-blox-builder/blob/main/LICENSE.md](https://github.com/HugoBlox/hugo-blox-builder/blob/main/LICENSE.md) */}}

{{/* Initialise */}}
{{ $page := .wcPage }}
{{ $block := .wcBlock }}
{{ $title := $block.content.title | emojify | $page.RenderString }}
{{ $text := $block.content.text | emojify | $page.RenderString }}
{{ $blue := $block.content.blue | emojify | $page.RenderString }}

<section class="mx-auto max-w-7xl pt-8 pb-8">
    
    <!-- Header Section -->
 <div class="mx-auto max-w-7xl mt-0 px-8 mb-4">
    
 <div class="flex flex-col">
  {{ with $blue }}
  <p class="mb-2 text-lg md:text-xl tracking-tight uppercase font-semibold text-primary-600 dark:text-primary-300">{{.}}</p>
  {{ end }}
  
  <!-- Red horizontal line above title -->
  <div class="w-16 border-2 border-primary-500 mb-4"></div>
      
  {{ with $title }}
  <h2 class="mb-4 text-3xl text-gray-900 dark:text-white">{{.}}</h2>
  {{ end }}
  {{ with $text }}
  <p class="text-xl md:text-2xl text-gray-500 dark:text-gray-400">{{.}}</p>
  {{ end }}
</div>
  
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-x-10 gap-y-6 px-4 md:px-0">
      
      {{ range $index, $item := $block.content.slides }}
      
      <div class="relative overflow-hidden group shadow-xl -mx--8 md:-mx-4 lg:-mx-2.5 rounded-none md:rounded-lg">
        
        <!-- Background Image Processing -->
        {{ $bg := $item.background }}
        {{ $bg_img := "" }}
        
        {{ if $bg.image.filename }}
          {{ $bg_img = resources.Get (printf "media/%s" $bg.image.filename) }}
          {{ if $bg_img }}
            {{ $bg_img = $bg_img.Fit "600x600 q70 webp" }}
          {{ end }}
        {{ end }}
        
        <!-- Full-Screen Image Container -->
        {{ if $bg_img }}
        <img src="{{ $bg_img.RelPermalink }}" 
             alt="{{ $item.title | plainify }}" 
             class="w-full h-96 object-cover transition-all filter brightness-100 rounded-lg">
        {{ else }}
        <div class="w-full h-96 bg-gray-400 filter brightness-100 rounded-lg"></div>
        {{ end }}
        
        <!-- Gradient Overlay -->
        <a href="{{.url}}">
          <div class="absolute inset-0"></div>
        </a>
        
        <!-- Comprehensive Text Positioning System -->
        {{ $align := $item.align | default "bottom" }}
        {{ $text_bg_color := $item.text_bg_color | default "black/90" }}
        
        {{ if eq $align "center" }}
        <!-- CENTER: Perfect center alignment -->
        <div class="absolute inset-0 flex items-center justify-center p-6">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 max-w-lg shadow-2xl text-center text-white backdrop-blur-sm">
        {{ else if eq $align "top" }}
        <!-- TOP CENTER: Top center alignment -->
        <div class="absolute left-0 right-0 top-0 pt-6 px-6 text-white text-center">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 mx-auto inline-block max-w-sm shadow-2xl backdrop-blur-sm">
        {{ else if eq $align "bottom" }}
        <!-- BOTTOM CENTER: Bottom center alignment -->
        <div class="absolute left-0 right-0 bottom-0 pb-6 px-6 text-white text-center">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 mx-auto inline-block max-w-sm shadow-2xl backdrop-blur-sm">
        {{ else if eq $align "top-left" }}
        <!-- TOP LEFT: Top left corner -->
        <div class="absolute top-0 left-0 pt-6 pl-6 text-white">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 max-w-sm shadow-2xl backdrop-blur-sm">
        {{ else if eq $align "top-right" }}
        <!-- TOP RIGHT: Top right corner -->
        <div class="absolute top-0 right-0 pt-6 pr-6 text-white">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 max-w-sm shadow-2xl text-right backdrop-blur-sm">
        {{ else if eq $align "center-left" }}
        <!-- CENTER LEFT: Middle left side -->
        <div class="absolute left-0 top-1/2 transform -translate-y-1/2 pl-6 text-white">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 max-w-sm shadow-2xl backdrop-blur-sm">
        {{ else if eq $align "center-right" }}
        <!-- CENTER RIGHT: Middle right side -->
        <div class="absolute right-0 top-1/2 transform -translate-y-1/2 pr-6 text-white">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 max-w-sm shadow-2xl text-right backdrop-blur-sm">
        {{ else if eq $align "bottom-left" }}
        <!-- BOTTOM LEFT: Bottom left corner -->
        <div class="absolute bottom-0 left-0 pb-6 pl-6 text-white">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 max-w-sm shadow-2xl backdrop-blur-sm">
        {{ else if eq $align "bottom-right" }}
        <!-- BOTTOM RIGHT: Bottom right corner -->
        <div class="absolute bottom-0 right-0 pb-6 pr-6 text-white">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 max-w-sm shadow-2xl text-right backdrop-blur-sm">
        {{ else }}
        <!-- DEFAULT: Bottom center if unknown alignment -->
        <div class="absolute left-0 right-0 bottom-0 pb-6 px-6 text-white text-center">
          <div class="bg-{{ $text_bg_color }} rounded-lg p-4 mx-auto inline-block max-w-sm shadow-2xl backdrop-blur-sm">
        {{ end }}
        
            <div class="space-y-3">
              <a href="{{.url}}" class="block">
                {{ with $item.title }}
                <h2 class="text-2xl md:text-3xl font-bold leading-tight drop-shadow-2xl text-white hover:text-gray-200 transition-colors duration-300">
                  {{ . | markdownify | emojify }}
                </h2>
                {{ end }}
              </a>
              
              {{ with $item.content }}
              <div class="text-sm md:text-base leading-relaxed text-gray-100 drop-shadow-lg">
                {{ . | emojify | $page.RenderString }}
              </div>
              {{ end }}
            </div>
          </div>
        </div>
        
      </div>
      
      {{ end }}
      
    </div>
  </div>
</section>
