{{/* Initialise */}}
{{ $page := .wcPage }}
{{ $block := .wcBlock }}
{{ $title := $block.content.title | emojify | $page.RenderString }}
{{ $text := $block.content.text | emojify | $page.RenderString }}
{{ $blue := $block.content.blue | emojify | $page.RenderString }}
{{ $name := $block.content.name | emojify | $page.RenderString }}
{{ $role := $block.content.role | emojify | $page.RenderString }}
{{ $text_cta := ($block.content.text_cta | default "") | markdownify }}
{{ $description := ($block.content.description | default "") | markdownify }}
{{ $button_text := $block.content.button.text | default "Subscribe" }}
{{ $text_privacy := $block.content.text_privacy | emojify | $page.RenderString }}
{{ $form_action := $block.content.form_action | default "#" }}

<style>
.background {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
</style>

<section class="relative overflow-hidden">
  <!-- Gradient Background -->
<div class="background">


  <!-- Content Wrapper -->
  <div class="relative mx-auto max-w-7xl pb-8 px-8 sm:px-12">

    <!-- Header Section -->
    <div class="mb-12 flex flex-col text-center">
      {{ with $blue }}
      <p class="mb-2 text-lg md:text-xl tracking-tight uppercase font-semibold text-primary-400 dark:text-primary-300">{{ . }}</p>
      {{ end }}
      {{ with $title }}
      <h2 class="mb-4 text-3xl md:text-4xl lg:text-5xl tracking-tight font-extrabold text-white drop-shadow-lg">{{ . }}</h2>
      {{ end }}
      {{ with $text }}
      <p class="text-xl md:text-2xl text-white max-w-3xl mx-auto drop-shadow-md">{{ . }}</p>
      {{ end }}
    </div>

    <!-- Two Column Layout -->
    <div class="mx-auto max-w-3xl space-y-8 md:grid md:grid-cols-1 gap-8 md:space-y-0">

      <!-- Newsletter Signup Form -->
      <div>
        <form action="{{ $form_action }}" method="post" class="space-y-6">
          <div class="form-preview">
            <div class="preview-heading text-xl text-white mb-8 drop-shadow-md">
              <h3>{{ $text_cta }}</h3>
            </div>
            <!-- Email Input Field -->
            <div class="preview-input-field">
              <input type="email"
                     name="email"
                     required
                     placeholder="{{ i18n "contact_email" | default "Email" }}"
                     spellcheck="false"
                     class="w-full rounded-md border border-transparent bg-white/90 px-4 py-3 text-base text-gray-900 placeholder-gray-400 shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-0 dark:bg-gray-800 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-primary-300" />
            </div>
            <!-- Terms and Conditions -->
            {{ if $description }}
            <div class="terms-container text-left mt-4 mb-4 px-4">
              <label class="text-white purchase__terms" for="terms-accept">
                <input class="mr-2 rounded-sm" 
                       type="checkbox" 
                       id="terms-accept" 
                       name="terms" 
                       value="1" 
                       required />
                {{ $description }}
              </label>
            </div>
            {{ end }}
            <!-- Submit Button -->
            <div class="text-center">
              <button type="submit"
                      class="inline-flex items-center justify-center rounded-full border border-transparent bg-primary-700 px-8 py-3 text-xl font-semibold text-white shadow-lg transition duration-200 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-0">
                {{ $button_text }}
              </button>
            </div>
          </div>
        </form>
      </div>

    </div>
  </div>
</section>
