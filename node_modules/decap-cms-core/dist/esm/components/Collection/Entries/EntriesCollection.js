import _styled from "@emotion/styled/base";
import React from 'react';
import PropTypes from 'prop-types';
import ImmutablePropTypes from 'react-immutable-proptypes';
import { connect } from 'react-redux';
import { translate } from 'react-polyglot';
import partial from 'lodash/partial';
import { Cursor } from 'decap-cms-lib-util';
import { colors } from 'decap-cms-ui-default';
import { loadEntries as actionLoadEntries, traverseCollectionCursor as actionTraverseCollectionCursor } from '../../../actions/entries';
import { loadUnpublishedEntries } from '../../../actions/editorialWorkflow';
import { selectEntries, selectEntriesLoaded, selectIsFetching, selectGroups } from '../../../reducers/entries';
import { selectUnpublishedEntry, selectUnpublishedEntriesByStatus } from '../../../reducers';
import { selectCollectionEntriesCursor } from '../../../reducers/cursors';
import Entries from './Entries';
import { jsx as ___EmotionJSX } from "@emotion/react";
const GroupHeading = /*#__PURE__*/_styled("h2", {
  target: "eucqz2q1",
  label: "GroupHeading"
})("font-size:22px;font-weight:600;line-height:37px;padding-inline-start:20px;color:", colors.textLead, ";" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NvbGxlY3Rpb24vRW50cmllcy9FbnRyaWVzQ29sbGVjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5QjhCIiwiZmlsZSI6Ii4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NvbGxlY3Rpb24vRW50cmllcy9FbnRyaWVzQ29sbGVjdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IEltbXV0YWJsZVByb3BUeXBlcyBmcm9tICdyZWFjdC1pbW11dGFibGUtcHJvcHR5cGVzJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tICdyZWFjdC1wb2x5Z2xvdCc7XG5pbXBvcnQgcGFydGlhbCBmcm9tICdsb2Rhc2gvcGFydGlhbCc7XG5pbXBvcnQgeyBDdXJzb3IgfSBmcm9tICdkZWNhcC1jbXMtbGliLXV0aWwnO1xuaW1wb3J0IHsgY29sb3JzIH0gZnJvbSAnZGVjYXAtY21zLXVpLWRlZmF1bHQnO1xuXG5pbXBvcnQge1xuICBsb2FkRW50cmllcyBhcyBhY3Rpb25Mb2FkRW50cmllcyxcbiAgdHJhdmVyc2VDb2xsZWN0aW9uQ3Vyc29yIGFzIGFjdGlvblRyYXZlcnNlQ29sbGVjdGlvbkN1cnNvcixcbn0gZnJvbSAnLi4vLi4vLi4vYWN0aW9ucy9lbnRyaWVzJztcbmltcG9ydCB7IGxvYWRVbnB1Ymxpc2hlZEVudHJpZXMgfSBmcm9tICcuLi8uLi8uLi9hY3Rpb25zL2VkaXRvcmlhbFdvcmtmbG93JztcbmltcG9ydCB7XG4gIHNlbGVjdEVudHJpZXMsXG4gIHNlbGVjdEVudHJpZXNMb2FkZWQsXG4gIHNlbGVjdElzRmV0Y2hpbmcsXG4gIHNlbGVjdEdyb3Vwcyxcbn0gZnJvbSAnLi4vLi4vLi4vcmVkdWNlcnMvZW50cmllcyc7XG5pbXBvcnQgeyBzZWxlY3RVbnB1Ymxpc2hlZEVudHJ5LCBzZWxlY3RVbnB1Ymxpc2hlZEVudHJpZXNCeVN0YXR1cyB9IGZyb20gJy4uLy4uLy4uL3JlZHVjZXJzJztcbmltcG9ydCB7IHNlbGVjdENvbGxlY3Rpb25FbnRyaWVzQ3Vyc29yIH0gZnJvbSAnLi4vLi4vLi4vcmVkdWNlcnMvY3Vyc29ycyc7XG5pbXBvcnQgRW50cmllcyBmcm9tICcuL0VudHJpZXMnO1xuXG5jb25zdCBHcm91cEhlYWRpbmcgPSBzdHlsZWQuaDJgXG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgbGluZS1oZWlnaHQ6IDM3cHg7XG4gIHBhZGRpbmctaW5saW5lLXN0YXJ0OiAyMHB4O1xuICBjb2xvcjogJHtjb2xvcnMudGV4dExlYWR9O1xuYDtcblxuY29uc3QgR3JvdXBDb250YWluZXIgPSBzdHlsZWQuZGl2YGA7XG5cbmZ1bmN0aW9uIGdldEdyb3VwRW50cmllcyhlbnRyaWVzLCBwYXRocykge1xuICByZXR1cm4gZW50cmllcy5maWx0ZXIoZW50cnkgPT4gcGF0aHMuaGFzKGVudHJ5LmdldCgncGF0aCcpKSk7XG59XG5cbmZ1bmN0aW9uIGdldEdyb3VwVGl0bGUoZ3JvdXAsIHQpIHtcbiAgY29uc3QgeyBsYWJlbCwgdmFsdWUgfSA9IGdyb3VwO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0KCdjb2xsZWN0aW9uLmdyb3Vwcy5vdGhlcicpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiB2YWx1ZSA/IGxhYmVsIDogdCgnY29sbGVjdGlvbi5ncm91cHMubmVnYXRlTGFiZWwnLCB7IGxhYmVsIH0pO1xuICB9XG4gIHJldHVybiBgJHtsYWJlbH0gJHt2YWx1ZX1gLnRyaW0oKTtcbn1cblxuZnVuY3Rpb24gd2l0aEdyb3Vwcyhncm91cHMsIGVudHJpZXMsIEVudHJpZXNUb1JlbmRlciwgdCkge1xuICByZXR1cm4gZ3JvdXBzLm1hcChncm91cCA9PiB7XG4gICAgY29uc3QgdGl0bGUgPSBnZXRHcm91cFRpdGxlKGdyb3VwLCB0KTtcbiAgICByZXR1cm4gKFxuICAgICAgPEdyb3VwQ29udGFpbmVyIGtleT17Z3JvdXAuaWR9IGlkPXtncm91cC5pZH0+XG4gICAgICAgIDxHcm91cEhlYWRpbmc+e3RpdGxlfTwvR3JvdXBIZWFkaW5nPlxuICAgICAgICA8RW50cmllc1RvUmVuZGVyIGVudHJpZXM9e2dldEdyb3VwRW50cmllcyhlbnRyaWVzLCBncm91cC5wYXRocyl9IC8+XG4gICAgICA8L0dyb3VwQ29udGFpbmVyPlxuICAgICk7XG4gIH0pO1xufVxuXG5leHBvcnQgY2xhc3MgRW50cmllc0NvbGxlY3Rpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGNvbGxlY3Rpb246IEltbXV0YWJsZVByb3BUeXBlcy5tYXAuaXNSZXF1aXJlZCxcbiAgICBjb2xsZWN0aW9uczogSW1tdXRhYmxlUHJvcFR5cGVzLml0ZXJhYmxlLFxuICAgIHBhZ2U6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZW50cmllczogSW1tdXRhYmxlUHJvcFR5cGVzLmxpc3QsXG4gICAgZ3JvdXBzOiBQcm9wVHlwZXMuYXJyYXksXG4gICAgaXNGZXRjaGluZzogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICB2aWV3U3R5bGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY3Vyc29yOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbG9hZEVudHJpZXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgdHJhdmVyc2VDb2xsZWN0aW9uQ3Vyc29yOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGVudHJpZXNMb2FkZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGxvYWRVbnB1Ymxpc2hlZEVudHJpZXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgdW5wdWJsaXNoZWRFbnRyaWVzTG9hZGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBpc0VkaXRvcmlhbFdvcmtmbG93RW5hYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZ2V0V29ya2Zsb3dTdGF0dXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgZ2V0VW5wdWJsaXNoZWRFbnRyaWVzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB9O1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIE1hbnVhbGx5IHZhbGlkYXRlIFByb3BUeXBlcyAtIFJlYWN0IDE5IGJyZWFraW5nIGNoYW5nZVxuICAgIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyhFbnRyaWVzQ29sbGVjdGlvbi5wcm9wVHlwZXMsIHRoaXMucHJvcHMsICdwcm9wJywgJ0VudHJpZXNDb2xsZWN0aW9uJyk7XG5cbiAgICBjb25zdCB7XG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgY29sbGVjdGlvbnMsXG4gICAgICBlbnRyaWVzTG9hZGVkLFxuICAgICAgbG9hZEVudHJpZXMsXG4gICAgICB1bnB1Ymxpc2hlZEVudHJpZXNMb2FkZWQsXG4gICAgICBsb2FkVW5wdWJsaXNoZWRFbnRyaWVzLFxuICAgICAgaXNFZGl0b3JpYWxXb3JrZmxvd0VuYWJsZWQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoY29sbGVjdGlvbiAmJiAhZW50cmllc0xvYWRlZCkge1xuICAgICAgbG9hZEVudHJpZXMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGlzRWRpdG9yaWFsV29ya2Zsb3dFbmFibGVkICYmICF1bnB1Ymxpc2hlZEVudHJpZXNMb2FkZWQpIHtcbiAgICAgIGxvYWRVbnB1Ymxpc2hlZEVudHJpZXMoY29sbGVjdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgY29sbGVjdGlvbnMsXG4gICAgICBlbnRyaWVzTG9hZGVkLFxuICAgICAgbG9hZEVudHJpZXMsXG4gICAgICB1bnB1Ymxpc2hlZEVudHJpZXNMb2FkZWQsXG4gICAgICBsb2FkVW5wdWJsaXNoZWRFbnRyaWVzLFxuICAgICAgaXNFZGl0b3JpYWxXb3JrZmxvd0VuYWJsZWQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoY29sbGVjdGlvbiAhPT0gcHJldlByb3BzLmNvbGxlY3Rpb24gJiYgIWVudHJpZXNMb2FkZWQpIHtcbiAgICAgIGxvYWRFbnRyaWVzKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGlzRWRpdG9yaWFsV29ya2Zsb3dFbmFibGVkICYmXG4gICAgICAoIXVucHVibGlzaGVkRW50cmllc0xvYWRlZCB8fCBjb2xsZWN0aW9uICE9PSBwcmV2UHJvcHMuY29sbGVjdGlvbilcbiAgICApIHtcbiAgICAgIGxvYWRVbnB1Ymxpc2hlZEVudHJpZXMoY29sbGVjdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUN1cnNvckFjdGlvbnMgPSAoY3Vyc29yLCBhY3Rpb24pID0+IHtcbiAgICBjb25zdCB7IGNvbGxlY3Rpb24sIHRyYXZlcnNlQ29sbGVjdGlvbkN1cnNvciB9ID0gdGhpcy5wcm9wcztcbiAgICB0cmF2ZXJzZUNvbGxlY3Rpb25DdXJzb3IoY29sbGVjdGlvbiwgYWN0aW9uKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGVudHJpZXMsXG4gICAgICBncm91cHMsXG4gICAgICBpc0ZldGNoaW5nLFxuICAgICAgdmlld1N0eWxlLFxuICAgICAgY3Vyc29yLFxuICAgICAgcGFnZSxcbiAgICAgIHQsXG4gICAgICBnZXRXb3JrZmxvd1N0YXR1cyxcbiAgICAgIGdldFVucHVibGlzaGVkRW50cmllcyxcbiAgICAgIGZpbHRlclRlcm0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBFbnRyaWVzVG9SZW5kZXIgPSAoeyBlbnRyaWVzIH0pID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxFbnRyaWVzXG4gICAgICAgICAgY29sbGVjdGlvbnM9e2NvbGxlY3Rpb259XG4gICAgICAgICAgZW50cmllcz17ZW50cmllc31cbiAgICAgICAgICBpc0ZldGNoaW5nPXtpc0ZldGNoaW5nfVxuICAgICAgICAgIGNvbGxlY3Rpb25OYW1lPXtjb2xsZWN0aW9uLmdldCgnbGFiZWwnKX1cbiAgICAgICAgICB2aWV3U3R5bGU9e3ZpZXdTdHlsZX1cbiAgICAgICAgICBjdXJzb3I9e2N1cnNvcn1cbiAgICAgICAgICBoYW5kbGVDdXJzb3JBY3Rpb25zPXtwYXJ0aWFsKHRoaXMuaGFuZGxlQ3Vyc29yQWN0aW9ucywgY3Vyc29yKX1cbiAgICAgICAgICBwYWdlPXtwYWdlfVxuICAgICAgICAgIGdldFdvcmtmbG93U3RhdHVzPXtnZXRXb3JrZmxvd1N0YXR1c31cbiAgICAgICAgICBnZXRVbnB1Ymxpc2hlZEVudHJpZXM9e2dldFVucHVibGlzaGVkRW50cmllc31cbiAgICAgICAgICBmaWx0ZXJUZXJtPXtmaWx0ZXJUZXJtfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgaWYgKGdyb3VwcyAmJiBncm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHdpdGhHcm91cHMoZ3JvdXBzLCBlbnRyaWVzLCBFbnRyaWVzVG9SZW5kZXIsIHQpO1xuICAgIH1cblxuICAgIHJldHVybiA8RW50cmllc1RvUmVuZGVyIGVudHJpZXM9e2VudHJpZXN9IC8+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJOZXN0ZWRFbnRyaWVzKHBhdGgsIGNvbGxlY3Rpb25Gb2xkZXIsIGVudHJpZXMsIHN1YmZvbGRlcnMpIHtcbiAgY29uc3QgZmlsdGVyZWQgPSBlbnRyaWVzLmZpbHRlcihlID0+IHtcbiAgICBsZXQgZW50cnlQYXRoID0gZS5nZXQoJ3BhdGgnKS5zbGljZShjb2xsZWN0aW9uRm9sZGVyLmxlbmd0aCArIDEpO1xuICAgIGlmICghZW50cnlQYXRoLnN0YXJ0c1dpdGgocGF0aCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBmb3Igc3ViZGlyZWN0b3JpZXMsIHRyaW0gb2ZmIHRoZSBwYXJlbnQgZm9sZGVyIGNvcnJlc3BvbmRpbmcgdG9cbiAgICAvLyB0aGlzIG5lc3RlZCBjb2xsZWN0aW9uIGVudHJ5XG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIGVudHJ5UGF0aCA9IGVudHJ5UGF0aC5zbGljZShwYXRoLmxlbmd0aCArIDEpO1xuICAgIH1cblxuICAgIC8vIGlmIHN1YmZvbGRlcnMgbGVnYWN5IG1vZGUgaXMgZW5hYmxlZCwgc2hvdyBvbmx5IGltbWVkaWF0ZSBzdWJmb2xkZXJzXG4gICAgLy8gYWxzbyBzaG93IGluZGV4IGZpbGUgaW4gcm9vdCBmb2xkZXJcbiAgICBpZiAoc3ViZm9sZGVycykge1xuICAgICAgY29uc3QgZGVwdGggPSBlbnRyeVBhdGguc3BsaXQoJy8nKS5sZW5ndGg7XG4gICAgICByZXR1cm4gcGF0aCA/IGRlcHRoID09PSAyIDogZGVwdGggPD0gMjtcbiAgICB9XG5cbiAgICAvLyBvbmx5IHNob3cgaW1tZWRpYXRlIGNoaWxkcmVuXG4gICAgcmV0dXJuICFlbnRyeVBhdGguaW5jbHVkZXMoJy8nKTtcbiAgfSk7XG4gIHJldHVybiBmaWx0ZXJlZDtcbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcykge1xuICBjb25zdCB7IGNvbGxlY3Rpb24sIHZpZXdTdHlsZSwgZmlsdGVyVGVybSB9ID0gb3duUHJvcHM7XG4gIGNvbnN0IHBhZ2UgPSBzdGF0ZS5lbnRyaWVzLmdldEluKFsncGFnZXMnLCBjb2xsZWN0aW9uLmdldCgnbmFtZScpLCAncGFnZSddKTtcblxuICBjb25zdCBjb2xsZWN0aW9ucyA9IHN0YXRlLmNvbGxlY3Rpb25zO1xuXG4gIGxldCBlbnRyaWVzID0gc2VsZWN0RW50cmllcyhzdGF0ZS5lbnRyaWVzLCBjb2xsZWN0aW9uKTtcbiAgY29uc3QgZ3JvdXBzID0gc2VsZWN0R3JvdXBzKHN0YXRlLmVudHJpZXMsIGNvbGxlY3Rpb24pO1xuXG4gIGlmIChjb2xsZWN0aW9uLmhhcygnbmVzdGVkJykpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uRm9sZGVyID0gY29sbGVjdGlvbi5nZXQoJ2ZvbGRlcicpO1xuICAgIGVudHJpZXMgPSBmaWx0ZXJOZXN0ZWRFbnRyaWVzKFxuICAgICAgZmlsdGVyVGVybSB8fCAnJyxcbiAgICAgIGNvbGxlY3Rpb25Gb2xkZXIsXG4gICAgICBlbnRyaWVzLFxuICAgICAgY29sbGVjdGlvbi5nZXQoJ25lc3RlZCcpLmdldCgnc3ViZm9sZGVycycpICE9PSBmYWxzZSxcbiAgICApO1xuICB9XG4gIGNvbnN0IGVudHJpZXNMb2FkZWQgPSBzZWxlY3RFbnRyaWVzTG9hZGVkKHN0YXRlLmVudHJpZXMsIGNvbGxlY3Rpb24uZ2V0KCduYW1lJykpO1xuICBjb25zdCBpc0ZldGNoaW5nID0gc2VsZWN0SXNGZXRjaGluZyhzdGF0ZS5lbnRyaWVzLCBjb2xsZWN0aW9uLmdldCgnbmFtZScpKTtcblxuICBjb25zdCByYXdDdXJzb3IgPSBzZWxlY3RDb2xsZWN0aW9uRW50cmllc0N1cnNvcihzdGF0ZS5jdXJzb3JzLCBjb2xsZWN0aW9uLmdldCgnbmFtZScpKTtcbiAgY29uc3QgY3Vyc29yID0gQ3Vyc29yLmNyZWF0ZShyYXdDdXJzb3IpLmNsZWFyRGF0YSgpO1xuXG4gIGNvbnN0IGlzRWRpdG9yaWFsV29ya2Zsb3dFbmFibGVkID0gc3RhdGUuY29uZmlnPy5wdWJsaXNoX21vZGUgPT09ICdlZGl0b3JpYWxfd29ya2Zsb3cnO1xuICBjb25zdCB1bnB1Ymxpc2hlZEVudHJpZXNMb2FkZWQgPSBpc0VkaXRvcmlhbFdvcmtmbG93RW5hYmxlZFxuICAgID8gISFzdGF0ZS5lZGl0b3JpYWxXb3JrZmxvdz8uZ2V0SW4oWydwYWdlcycsICdpZHMnXSwgZmFsc2UpXG4gICAgOiB0cnVlO1xuXG4gIHJldHVybiB7XG4gICAgY29sbGVjdGlvbixcbiAgICBjb2xsZWN0aW9ucyxcbiAgICBwYWdlLFxuICAgIGVudHJpZXMsXG4gICAgZ3JvdXBzLFxuICAgIGVudHJpZXNMb2FkZWQsXG4gICAgaXNGZXRjaGluZyxcbiAgICB2aWV3U3R5bGUsXG4gICAgY3Vyc29yLFxuICAgIHVucHVibGlzaGVkRW50cmllc0xvYWRlZCxcbiAgICBpc0VkaXRvcmlhbFdvcmtmbG93RW5hYmxlZCxcbiAgICBnZXRXb3JrZmxvd1N0YXR1czogKGNvbGxlY3Rpb25OYW1lLCBzbHVnKSA9PiB7XG4gICAgICBjb25zdCB1bnB1Ymxpc2hlZEVudHJ5ID0gc2VsZWN0VW5wdWJsaXNoZWRFbnRyeShzdGF0ZSwgY29sbGVjdGlvbk5hbWUsIHNsdWcpO1xuICAgICAgcmV0dXJuIHVucHVibGlzaGVkRW50cnkgPyB1bnB1Ymxpc2hlZEVudHJ5LmdldCgnc3RhdHVzJykgOiBudWxsO1xuICAgIH0sXG4gICAgZ2V0VW5wdWJsaXNoZWRFbnRyaWVzOiBjb2xsZWN0aW9uTmFtZSA9PiB7XG4gICAgICBpZiAoIWlzRWRpdG9yaWFsV29ya2Zsb3dFbmFibGVkKSByZXR1cm4gW107XG5cbiAgICAgIGNvbnN0IGFsbFN0YXR1c2VzID0gWydkcmFmdCcsICdwZW5kaW5nX3JldmlldycsICdwZW5kaW5nX3B1Ymxpc2gnXTtcbiAgICAgIGNvbnN0IHVucHVibGlzaGVkRW50cmllcyA9IFtdO1xuXG4gICAgICBhbGxTdGF0dXNlcy5mb3JFYWNoKHN0YXR1c0tleSA9PiB7XG4gICAgICAgIGNvbnN0IGVudHJpZXNGb3JTdGF0dXMgPSBzZWxlY3RVbnB1Ymxpc2hlZEVudHJpZXNCeVN0YXR1cyhzdGF0ZSwgc3RhdHVzS2V5KTtcbiAgICAgICAgaWYgKGVudHJpZXNGb3JTdGF0dXMpIHtcbiAgICAgICAgICBlbnRyaWVzRm9yU3RhdHVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudHJ5LmdldCgnY29sbGVjdGlvbicpID09PSBjb2xsZWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICBjb25zdCBlbnRyeVdpdGhDb2xsZWN0aW9uID0gZW50cnkuc2V0KCdjb2xsZWN0aW9uJywgY29sbGVjdGlvbk5hbWUpO1xuICAgICAgICAgICAgICB1bnB1Ymxpc2hlZEVudHJpZXMucHVzaChlbnRyeVdpdGhDb2xsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB1bnB1Ymxpc2hlZEVudHJpZXM7XG4gICAgfSxcbiAgfTtcbn1cblxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0ge1xuICBsb2FkRW50cmllczogYWN0aW9uTG9hZEVudHJpZXMsXG4gIHRyYXZlcnNlQ29sbGVjdGlvbkN1cnNvcjogYWN0aW9uVHJhdmVyc2VDb2xsZWN0aW9uQ3Vyc29yLFxuICBsb2FkVW5wdWJsaXNoZWRFbnRyaWVzOiBjb2xsZWN0aW9ucyA9PiBsb2FkVW5wdWJsaXNoZWRFbnRyaWVzKGNvbGxlY3Rpb25zKSxcbn07XG5cbmNvbnN0IENvbm5lY3RlZEVudHJpZXNDb2xsZWN0aW9uID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoRW50cmllc0NvbGxlY3Rpb24pO1xuXG5leHBvcnQgZGVmYXVsdCB0cmFuc2xhdGUoKShDb25uZWN0ZWRFbnRyaWVzQ29sbGVjdGlvbik7XG4iXX0= */"));
const GroupContainer = /*#__PURE__*/_styled("div", {
  target: "eucqz2q0",
  label: "GroupContainer"
})(process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NvbGxlY3Rpb24vRW50cmllcy9FbnRyaWVzQ29sbGVjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpQ2lDIiwiZmlsZSI6Ii4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NvbGxlY3Rpb24vRW50cmllcy9FbnRyaWVzQ29sbGVjdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IEltbXV0YWJsZVByb3BUeXBlcyBmcm9tICdyZWFjdC1pbW11dGFibGUtcHJvcHR5cGVzJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyB0cmFuc2xhdGUgfSBmcm9tICdyZWFjdC1wb2x5Z2xvdCc7XG5pbXBvcnQgcGFydGlhbCBmcm9tICdsb2Rhc2gvcGFydGlhbCc7XG5pbXBvcnQgeyBDdXJzb3IgfSBmcm9tICdkZWNhcC1jbXMtbGliLXV0aWwnO1xuaW1wb3J0IHsgY29sb3JzIH0gZnJvbSAnZGVjYXAtY21zLXVpLWRlZmF1bHQnO1xuXG5pbXBvcnQge1xuICBsb2FkRW50cmllcyBhcyBhY3Rpb25Mb2FkRW50cmllcyxcbiAgdHJhdmVyc2VDb2xsZWN0aW9uQ3Vyc29yIGFzIGFjdGlvblRyYXZlcnNlQ29sbGVjdGlvbkN1cnNvcixcbn0gZnJvbSAnLi4vLi4vLi4vYWN0aW9ucy9lbnRyaWVzJztcbmltcG9ydCB7IGxvYWRVbnB1Ymxpc2hlZEVudHJpZXMgfSBmcm9tICcuLi8uLi8uLi9hY3Rpb25zL2VkaXRvcmlhbFdvcmtmbG93JztcbmltcG9ydCB7XG4gIHNlbGVjdEVudHJpZXMsXG4gIHNlbGVjdEVudHJpZXNMb2FkZWQsXG4gIHNlbGVjdElzRmV0Y2hpbmcsXG4gIHNlbGVjdEdyb3Vwcyxcbn0gZnJvbSAnLi4vLi4vLi4vcmVkdWNlcnMvZW50cmllcyc7XG5pbXBvcnQgeyBzZWxlY3RVbnB1Ymxpc2hlZEVudHJ5LCBzZWxlY3RVbnB1Ymxpc2hlZEVudHJpZXNCeVN0YXR1cyB9IGZyb20gJy4uLy4uLy4uL3JlZHVjZXJzJztcbmltcG9ydCB7IHNlbGVjdENvbGxlY3Rpb25FbnRyaWVzQ3Vyc29yIH0gZnJvbSAnLi4vLi4vLi4vcmVkdWNlcnMvY3Vyc29ycyc7XG5pbXBvcnQgRW50cmllcyBmcm9tICcuL0VudHJpZXMnO1xuXG5jb25zdCBHcm91cEhlYWRpbmcgPSBzdHlsZWQuaDJgXG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgbGluZS1oZWlnaHQ6IDM3cHg7XG4gIHBhZGRpbmctaW5saW5lLXN0YXJ0OiAyMHB4O1xuICBjb2xvcjogJHtjb2xvcnMudGV4dExlYWR9O1xuYDtcblxuY29uc3QgR3JvdXBDb250YWluZXIgPSBzdHlsZWQuZGl2YGA7XG5cbmZ1bmN0aW9uIGdldEdyb3VwRW50cmllcyhlbnRyaWVzLCBwYXRocykge1xuICByZXR1cm4gZW50cmllcy5maWx0ZXIoZW50cnkgPT4gcGF0aHMuaGFzKGVudHJ5LmdldCgncGF0aCcpKSk7XG59XG5cbmZ1bmN0aW9uIGdldEdyb3VwVGl0bGUoZ3JvdXAsIHQpIHtcbiAgY29uc3QgeyBsYWJlbCwgdmFsdWUgfSA9IGdyb3VwO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0KCdjb2xsZWN0aW9uLmdyb3Vwcy5vdGhlcicpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiB2YWx1ZSA/IGxhYmVsIDogdCgnY29sbGVjdGlvbi5ncm91cHMubmVnYXRlTGFiZWwnLCB7IGxhYmVsIH0pO1xuICB9XG4gIHJldHVybiBgJHtsYWJlbH0gJHt2YWx1ZX1gLnRyaW0oKTtcbn1cblxuZnVuY3Rpb24gd2l0aEdyb3Vwcyhncm91cHMsIGVudHJpZXMsIEVudHJpZXNUb1JlbmRlciwgdCkge1xuICByZXR1cm4gZ3JvdXBzLm1hcChncm91cCA9PiB7XG4gICAgY29uc3QgdGl0bGUgPSBnZXRHcm91cFRpdGxlKGdyb3VwLCB0KTtcbiAgICByZXR1cm4gKFxuICAgICAgPEdyb3VwQ29udGFpbmVyIGtleT17Z3JvdXAuaWR9IGlkPXtncm91cC5pZH0+XG4gICAgICAgIDxHcm91cEhlYWRpbmc+e3RpdGxlfTwvR3JvdXBIZWFkaW5nPlxuICAgICAgICA8RW50cmllc1RvUmVuZGVyIGVudHJpZXM9e2dldEdyb3VwRW50cmllcyhlbnRyaWVzLCBncm91cC5wYXRocyl9IC8+XG4gICAgICA8L0dyb3VwQ29udGFpbmVyPlxuICAgICk7XG4gIH0pO1xufVxuXG5leHBvcnQgY2xhc3MgRW50cmllc0NvbGxlY3Rpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGNvbGxlY3Rpb246IEltbXV0YWJsZVByb3BUeXBlcy5tYXAuaXNSZXF1aXJlZCxcbiAgICBjb2xsZWN0aW9uczogSW1tdXRhYmxlUHJvcFR5cGVzLml0ZXJhYmxlLFxuICAgIHBhZ2U6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZW50cmllczogSW1tdXRhYmxlUHJvcFR5cGVzLmxpc3QsXG4gICAgZ3JvdXBzOiBQcm9wVHlwZXMuYXJyYXksXG4gICAgaXNGZXRjaGluZzogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICB2aWV3U3R5bGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY3Vyc29yOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgbG9hZEVudHJpZXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgdHJhdmVyc2VDb2xsZWN0aW9uQ3Vyc29yOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGVudHJpZXNMb2FkZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIGxvYWRVbnB1Ymxpc2hlZEVudHJpZXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgdW5wdWJsaXNoZWRFbnRyaWVzTG9hZGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBpc0VkaXRvcmlhbFdvcmtmbG93RW5hYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZ2V0V29ya2Zsb3dTdGF0dXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgZ2V0VW5wdWJsaXNoZWRFbnRyaWVzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB9O1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIE1hbnVhbGx5IHZhbGlkYXRlIFByb3BUeXBlcyAtIFJlYWN0IDE5IGJyZWFraW5nIGNoYW5nZVxuICAgIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyhFbnRyaWVzQ29sbGVjdGlvbi5wcm9wVHlwZXMsIHRoaXMucHJvcHMsICdwcm9wJywgJ0VudHJpZXNDb2xsZWN0aW9uJyk7XG5cbiAgICBjb25zdCB7XG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgY29sbGVjdGlvbnMsXG4gICAgICBlbnRyaWVzTG9hZGVkLFxuICAgICAgbG9hZEVudHJpZXMsXG4gICAgICB1bnB1Ymxpc2hlZEVudHJpZXNMb2FkZWQsXG4gICAgICBsb2FkVW5wdWJsaXNoZWRFbnRyaWVzLFxuICAgICAgaXNFZGl0b3JpYWxXb3JrZmxvd0VuYWJsZWQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoY29sbGVjdGlvbiAmJiAhZW50cmllc0xvYWRlZCkge1xuICAgICAgbG9hZEVudHJpZXMoY29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGlzRWRpdG9yaWFsV29ya2Zsb3dFbmFibGVkICYmICF1bnB1Ymxpc2hlZEVudHJpZXNMb2FkZWQpIHtcbiAgICAgIGxvYWRVbnB1Ymxpc2hlZEVudHJpZXMoY29sbGVjdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgY29sbGVjdGlvbnMsXG4gICAgICBlbnRyaWVzTG9hZGVkLFxuICAgICAgbG9hZEVudHJpZXMsXG4gICAgICB1bnB1Ymxpc2hlZEVudHJpZXNMb2FkZWQsXG4gICAgICBsb2FkVW5wdWJsaXNoZWRFbnRyaWVzLFxuICAgICAgaXNFZGl0b3JpYWxXb3JrZmxvd0VuYWJsZWQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoY29sbGVjdGlvbiAhPT0gcHJldlByb3BzLmNvbGxlY3Rpb24gJiYgIWVudHJpZXNMb2FkZWQpIHtcbiAgICAgIGxvYWRFbnRyaWVzKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGlzRWRpdG9yaWFsV29ya2Zsb3dFbmFibGVkICYmXG4gICAgICAoIXVucHVibGlzaGVkRW50cmllc0xvYWRlZCB8fCBjb2xsZWN0aW9uICE9PSBwcmV2UHJvcHMuY29sbGVjdGlvbilcbiAgICApIHtcbiAgICAgIGxvYWRVbnB1Ymxpc2hlZEVudHJpZXMoY29sbGVjdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUN1cnNvckFjdGlvbnMgPSAoY3Vyc29yLCBhY3Rpb24pID0+IHtcbiAgICBjb25zdCB7IGNvbGxlY3Rpb24sIHRyYXZlcnNlQ29sbGVjdGlvbkN1cnNvciB9ID0gdGhpcy5wcm9wcztcbiAgICB0cmF2ZXJzZUNvbGxlY3Rpb25DdXJzb3IoY29sbGVjdGlvbiwgYWN0aW9uKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGVudHJpZXMsXG4gICAgICBncm91cHMsXG4gICAgICBpc0ZldGNoaW5nLFxuICAgICAgdmlld1N0eWxlLFxuICAgICAgY3Vyc29yLFxuICAgICAgcGFnZSxcbiAgICAgIHQsXG4gICAgICBnZXRXb3JrZmxvd1N0YXR1cyxcbiAgICAgIGdldFVucHVibGlzaGVkRW50cmllcyxcbiAgICAgIGZpbHRlclRlcm0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBFbnRyaWVzVG9SZW5kZXIgPSAoeyBlbnRyaWVzIH0pID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxFbnRyaWVzXG4gICAgICAgICAgY29sbGVjdGlvbnM9e2NvbGxlY3Rpb259XG4gICAgICAgICAgZW50cmllcz17ZW50cmllc31cbiAgICAgICAgICBpc0ZldGNoaW5nPXtpc0ZldGNoaW5nfVxuICAgICAgICAgIGNvbGxlY3Rpb25OYW1lPXtjb2xsZWN0aW9uLmdldCgnbGFiZWwnKX1cbiAgICAgICAgICB2aWV3U3R5bGU9e3ZpZXdTdHlsZX1cbiAgICAgICAgICBjdXJzb3I9e2N1cnNvcn1cbiAgICAgICAgICBoYW5kbGVDdXJzb3JBY3Rpb25zPXtwYXJ0aWFsKHRoaXMuaGFuZGxlQ3Vyc29yQWN0aW9ucywgY3Vyc29yKX1cbiAgICAgICAgICBwYWdlPXtwYWdlfVxuICAgICAgICAgIGdldFdvcmtmbG93U3RhdHVzPXtnZXRXb3JrZmxvd1N0YXR1c31cbiAgICAgICAgICBnZXRVbnB1Ymxpc2hlZEVudHJpZXM9e2dldFVucHVibGlzaGVkRW50cmllc31cbiAgICAgICAgICBmaWx0ZXJUZXJtPXtmaWx0ZXJUZXJtfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgaWYgKGdyb3VwcyAmJiBncm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHdpdGhHcm91cHMoZ3JvdXBzLCBlbnRyaWVzLCBFbnRyaWVzVG9SZW5kZXIsIHQpO1xuICAgIH1cblxuICAgIHJldHVybiA8RW50cmllc1RvUmVuZGVyIGVudHJpZXM9e2VudHJpZXN9IC8+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJOZXN0ZWRFbnRyaWVzKHBhdGgsIGNvbGxlY3Rpb25Gb2xkZXIsIGVudHJpZXMsIHN1YmZvbGRlcnMpIHtcbiAgY29uc3QgZmlsdGVyZWQgPSBlbnRyaWVzLmZpbHRlcihlID0+IHtcbiAgICBsZXQgZW50cnlQYXRoID0gZS5nZXQoJ3BhdGgnKS5zbGljZShjb2xsZWN0aW9uRm9sZGVyLmxlbmd0aCArIDEpO1xuICAgIGlmICghZW50cnlQYXRoLnN0YXJ0c1dpdGgocGF0aCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBmb3Igc3ViZGlyZWN0b3JpZXMsIHRyaW0gb2ZmIHRoZSBwYXJlbnQgZm9sZGVyIGNvcnJlc3BvbmRpbmcgdG9cbiAgICAvLyB0aGlzIG5lc3RlZCBjb2xsZWN0aW9uIGVudHJ5XG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIGVudHJ5UGF0aCA9IGVudHJ5UGF0aC5zbGljZShwYXRoLmxlbmd0aCArIDEpO1xuICAgIH1cblxuICAgIC8vIGlmIHN1YmZvbGRlcnMgbGVnYWN5IG1vZGUgaXMgZW5hYmxlZCwgc2hvdyBvbmx5IGltbWVkaWF0ZSBzdWJmb2xkZXJzXG4gICAgLy8gYWxzbyBzaG93IGluZGV4IGZpbGUgaW4gcm9vdCBmb2xkZXJcbiAgICBpZiAoc3ViZm9sZGVycykge1xuICAgICAgY29uc3QgZGVwdGggPSBlbnRyeVBhdGguc3BsaXQoJy8nKS5sZW5ndGg7XG4gICAgICByZXR1cm4gcGF0aCA/IGRlcHRoID09PSAyIDogZGVwdGggPD0gMjtcbiAgICB9XG5cbiAgICAvLyBvbmx5IHNob3cgaW1tZWRpYXRlIGNoaWxkcmVuXG4gICAgcmV0dXJuICFlbnRyeVBhdGguaW5jbHVkZXMoJy8nKTtcbiAgfSk7XG4gIHJldHVybiBmaWx0ZXJlZDtcbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcykge1xuICBjb25zdCB7IGNvbGxlY3Rpb24sIHZpZXdTdHlsZSwgZmlsdGVyVGVybSB9ID0gb3duUHJvcHM7XG4gIGNvbnN0IHBhZ2UgPSBzdGF0ZS5lbnRyaWVzLmdldEluKFsncGFnZXMnLCBjb2xsZWN0aW9uLmdldCgnbmFtZScpLCAncGFnZSddKTtcblxuICBjb25zdCBjb2xsZWN0aW9ucyA9IHN0YXRlLmNvbGxlY3Rpb25zO1xuXG4gIGxldCBlbnRyaWVzID0gc2VsZWN0RW50cmllcyhzdGF0ZS5lbnRyaWVzLCBjb2xsZWN0aW9uKTtcbiAgY29uc3QgZ3JvdXBzID0gc2VsZWN0R3JvdXBzKHN0YXRlLmVudHJpZXMsIGNvbGxlY3Rpb24pO1xuXG4gIGlmIChjb2xsZWN0aW9uLmhhcygnbmVzdGVkJykpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uRm9sZGVyID0gY29sbGVjdGlvbi5nZXQoJ2ZvbGRlcicpO1xuICAgIGVudHJpZXMgPSBmaWx0ZXJOZXN0ZWRFbnRyaWVzKFxuICAgICAgZmlsdGVyVGVybSB8fCAnJyxcbiAgICAgIGNvbGxlY3Rpb25Gb2xkZXIsXG4gICAgICBlbnRyaWVzLFxuICAgICAgY29sbGVjdGlvbi5nZXQoJ25lc3RlZCcpLmdldCgnc3ViZm9sZGVycycpICE9PSBmYWxzZSxcbiAgICApO1xuICB9XG4gIGNvbnN0IGVudHJpZXNMb2FkZWQgPSBzZWxlY3RFbnRyaWVzTG9hZGVkKHN0YXRlLmVudHJpZXMsIGNvbGxlY3Rpb24uZ2V0KCduYW1lJykpO1xuICBjb25zdCBpc0ZldGNoaW5nID0gc2VsZWN0SXNGZXRjaGluZyhzdGF0ZS5lbnRyaWVzLCBjb2xsZWN0aW9uLmdldCgnbmFtZScpKTtcblxuICBjb25zdCByYXdDdXJzb3IgPSBzZWxlY3RDb2xsZWN0aW9uRW50cmllc0N1cnNvcihzdGF0ZS5jdXJzb3JzLCBjb2xsZWN0aW9uLmdldCgnbmFtZScpKTtcbiAgY29uc3QgY3Vyc29yID0gQ3Vyc29yLmNyZWF0ZShyYXdDdXJzb3IpLmNsZWFyRGF0YSgpO1xuXG4gIGNvbnN0IGlzRWRpdG9yaWFsV29ya2Zsb3dFbmFibGVkID0gc3RhdGUuY29uZmlnPy5wdWJsaXNoX21vZGUgPT09ICdlZGl0b3JpYWxfd29ya2Zsb3cnO1xuICBjb25zdCB1bnB1Ymxpc2hlZEVudHJpZXNMb2FkZWQgPSBpc0VkaXRvcmlhbFdvcmtmbG93RW5hYmxlZFxuICAgID8gISFzdGF0ZS5lZGl0b3JpYWxXb3JrZmxvdz8uZ2V0SW4oWydwYWdlcycsICdpZHMnXSwgZmFsc2UpXG4gICAgOiB0cnVlO1xuXG4gIHJldHVybiB7XG4gICAgY29sbGVjdGlvbixcbiAgICBjb2xsZWN0aW9ucyxcbiAgICBwYWdlLFxuICAgIGVudHJpZXMsXG4gICAgZ3JvdXBzLFxuICAgIGVudHJpZXNMb2FkZWQsXG4gICAgaXNGZXRjaGluZyxcbiAgICB2aWV3U3R5bGUsXG4gICAgY3Vyc29yLFxuICAgIHVucHVibGlzaGVkRW50cmllc0xvYWRlZCxcbiAgICBpc0VkaXRvcmlhbFdvcmtmbG93RW5hYmxlZCxcbiAgICBnZXRXb3JrZmxvd1N0YXR1czogKGNvbGxlY3Rpb25OYW1lLCBzbHVnKSA9PiB7XG4gICAgICBjb25zdCB1bnB1Ymxpc2hlZEVudHJ5ID0gc2VsZWN0VW5wdWJsaXNoZWRFbnRyeShzdGF0ZSwgY29sbGVjdGlvbk5hbWUsIHNsdWcpO1xuICAgICAgcmV0dXJuIHVucHVibGlzaGVkRW50cnkgPyB1bnB1Ymxpc2hlZEVudHJ5LmdldCgnc3RhdHVzJykgOiBudWxsO1xuICAgIH0sXG4gICAgZ2V0VW5wdWJsaXNoZWRFbnRyaWVzOiBjb2xsZWN0aW9uTmFtZSA9PiB7XG4gICAgICBpZiAoIWlzRWRpdG9yaWFsV29ya2Zsb3dFbmFibGVkKSByZXR1cm4gW107XG5cbiAgICAgIGNvbnN0IGFsbFN0YXR1c2VzID0gWydkcmFmdCcsICdwZW5kaW5nX3JldmlldycsICdwZW5kaW5nX3B1Ymxpc2gnXTtcbiAgICAgIGNvbnN0IHVucHVibGlzaGVkRW50cmllcyA9IFtdO1xuXG4gICAgICBhbGxTdGF0dXNlcy5mb3JFYWNoKHN0YXR1c0tleSA9PiB7XG4gICAgICAgIGNvbnN0IGVudHJpZXNGb3JTdGF0dXMgPSBzZWxlY3RVbnB1Ymxpc2hlZEVudHJpZXNCeVN0YXR1cyhzdGF0ZSwgc3RhdHVzS2V5KTtcbiAgICAgICAgaWYgKGVudHJpZXNGb3JTdGF0dXMpIHtcbiAgICAgICAgICBlbnRyaWVzRm9yU3RhdHVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudHJ5LmdldCgnY29sbGVjdGlvbicpID09PSBjb2xsZWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICBjb25zdCBlbnRyeVdpdGhDb2xsZWN0aW9uID0gZW50cnkuc2V0KCdjb2xsZWN0aW9uJywgY29sbGVjdGlvbk5hbWUpO1xuICAgICAgICAgICAgICB1bnB1Ymxpc2hlZEVudHJpZXMucHVzaChlbnRyeVdpdGhDb2xsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB1bnB1Ymxpc2hlZEVudHJpZXM7XG4gICAgfSxcbiAgfTtcbn1cblxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0ge1xuICBsb2FkRW50cmllczogYWN0aW9uTG9hZEVudHJpZXMsXG4gIHRyYXZlcnNlQ29sbGVjdGlvbkN1cnNvcjogYWN0aW9uVHJhdmVyc2VDb2xsZWN0aW9uQ3Vyc29yLFxuICBsb2FkVW5wdWJsaXNoZWRFbnRyaWVzOiBjb2xsZWN0aW9ucyA9PiBsb2FkVW5wdWJsaXNoZWRFbnRyaWVzKGNvbGxlY3Rpb25zKSxcbn07XG5cbmNvbnN0IENvbm5lY3RlZEVudHJpZXNDb2xsZWN0aW9uID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoRW50cmllc0NvbGxlY3Rpb24pO1xuXG5leHBvcnQgZGVmYXVsdCB0cmFuc2xhdGUoKShDb25uZWN0ZWRFbnRyaWVzQ29sbGVjdGlvbik7XG4iXX0= */");
function getGroupEntries(entries, paths) {
  return entries.filter(entry => paths.has(entry.get('path')));
}
function getGroupTitle(group, t) {
  const {
    label,
    value
  } = group;
  if (value === undefined) {
    return t('collection.groups.other');
  }
  if (typeof value === 'boolean') {
    return value ? label : t('collection.groups.negateLabel', {
      label
    });
  }
  return `${label} ${value}`.trim();
}
function withGroups(groups, entries, EntriesToRender, t) {
  return groups.map(group => {
    const title = getGroupTitle(group, t);
    return ___EmotionJSX(GroupContainer, {
      key: group.id,
      id: group.id
    }, ___EmotionJSX(GroupHeading, null, title), ___EmotionJSX(EntriesToRender, {
      entries: getGroupEntries(entries, group.paths)
    }));
  });
}
export class EntriesCollection extends React.Component {
  static propTypes = {
    collection: ImmutablePropTypes.map.isRequired,
    collections: ImmutablePropTypes.iterable,
    page: PropTypes.number,
    entries: ImmutablePropTypes.list,
    groups: PropTypes.array,
    isFetching: PropTypes.bool.isRequired,
    viewStyle: PropTypes.string,
    cursor: PropTypes.object.isRequired,
    loadEntries: PropTypes.func.isRequired,
    traverseCollectionCursor: PropTypes.func.isRequired,
    entriesLoaded: PropTypes.bool,
    loadUnpublishedEntries: PropTypes.func.isRequired,
    unpublishedEntriesLoaded: PropTypes.bool,
    isEditorialWorkflowEnabled: PropTypes.bool,
    getWorkflowStatus: PropTypes.func.isRequired,
    getUnpublishedEntries: PropTypes.func.isRequired
  };
  componentDidMount() {
    // Manually validate PropTypes - React 19 breaking change
    PropTypes.checkPropTypes(EntriesCollection.propTypes, this.props, 'prop', 'EntriesCollection');
    const {
      collection,
      collections,
      entriesLoaded,
      loadEntries,
      unpublishedEntriesLoaded,
      loadUnpublishedEntries,
      isEditorialWorkflowEnabled
    } = this.props;
    if (collection && !entriesLoaded) {
      loadEntries(collection);
    }
    if (isEditorialWorkflowEnabled && !unpublishedEntriesLoaded) {
      loadUnpublishedEntries(collections);
    }
  }
  componentDidUpdate(prevProps) {
    const {
      collection,
      collections,
      entriesLoaded,
      loadEntries,
      unpublishedEntriesLoaded,
      loadUnpublishedEntries,
      isEditorialWorkflowEnabled
    } = this.props;
    if (collection !== prevProps.collection && !entriesLoaded) {
      loadEntries(collection);
    }
    if (isEditorialWorkflowEnabled && (!unpublishedEntriesLoaded || collection !== prevProps.collection)) {
      loadUnpublishedEntries(collections);
    }
  }
  handleCursorActions = (cursor, action) => {
    const {
      collection,
      traverseCollectionCursor
    } = this.props;
    traverseCollectionCursor(collection, action);
  };
  render() {
    const {
      collection,
      entries,
      groups,
      isFetching,
      viewStyle,
      cursor,
      page,
      t,
      getWorkflowStatus,
      getUnpublishedEntries,
      filterTerm
    } = this.props;
    const EntriesToRender = ({
      entries
    }) => {
      return ___EmotionJSX(Entries, {
        collections: collection,
        entries: entries,
        isFetching: isFetching,
        collectionName: collection.get('label'),
        viewStyle: viewStyle,
        cursor: cursor,
        handleCursorActions: partial(this.handleCursorActions, cursor),
        page: page,
        getWorkflowStatus: getWorkflowStatus,
        getUnpublishedEntries: getUnpublishedEntries,
        filterTerm: filterTerm
      });
    };
    if (groups && groups.length > 0) {
      return withGroups(groups, entries, EntriesToRender, t);
    }
    return ___EmotionJSX(EntriesToRender, {
      entries: entries
    });
  }
}
export function filterNestedEntries(path, collectionFolder, entries, subfolders) {
  const filtered = entries.filter(e => {
    let entryPath = e.get('path').slice(collectionFolder.length + 1);
    if (!entryPath.startsWith(path)) {
      return false;
    }

    // for subdirectories, trim off the parent folder corresponding to
    // this nested collection entry
    if (path) {
      entryPath = entryPath.slice(path.length + 1);
    }

    // if subfolders legacy mode is enabled, show only immediate subfolders
    // also show index file in root folder
    if (subfolders) {
      const depth = entryPath.split('/').length;
      return path ? depth === 2 : depth <= 2;
    }

    // only show immediate children
    return !entryPath.includes('/');
  });
  return filtered;
}
function mapStateToProps(state, ownProps) {
  const {
    collection,
    viewStyle,
    filterTerm
  } = ownProps;
  const page = state.entries.getIn(['pages', collection.get('name'), 'page']);
  const collections = state.collections;
  let entries = selectEntries(state.entries, collection);
  const groups = selectGroups(state.entries, collection);
  if (collection.has('nested')) {
    const collectionFolder = collection.get('folder');
    entries = filterNestedEntries(filterTerm || '', collectionFolder, entries, collection.get('nested').get('subfolders') !== false);
  }
  const entriesLoaded = selectEntriesLoaded(state.entries, collection.get('name'));
  const isFetching = selectIsFetching(state.entries, collection.get('name'));
  const rawCursor = selectCollectionEntriesCursor(state.cursors, collection.get('name'));
  const cursor = Cursor.create(rawCursor).clearData();
  const isEditorialWorkflowEnabled = state.config?.publish_mode === 'editorial_workflow';
  const unpublishedEntriesLoaded = isEditorialWorkflowEnabled ? !!state.editorialWorkflow?.getIn(['pages', 'ids'], false) : true;
  return {
    collection,
    collections,
    page,
    entries,
    groups,
    entriesLoaded,
    isFetching,
    viewStyle,
    cursor,
    unpublishedEntriesLoaded,
    isEditorialWorkflowEnabled,
    getWorkflowStatus: (collectionName, slug) => {
      const unpublishedEntry = selectUnpublishedEntry(state, collectionName, slug);
      return unpublishedEntry ? unpublishedEntry.get('status') : null;
    },
    getUnpublishedEntries: collectionName => {
      if (!isEditorialWorkflowEnabled) return [];
      const allStatuses = ['draft', 'pending_review', 'pending_publish'];
      const unpublishedEntries = [];
      allStatuses.forEach(statusKey => {
        const entriesForStatus = selectUnpublishedEntriesByStatus(state, statusKey);
        if (entriesForStatus) {
          entriesForStatus.forEach(entry => {
            if (entry.get('collection') === collectionName) {
              const entryWithCollection = entry.set('collection', collectionName);
              unpublishedEntries.push(entryWithCollection);
            }
          });
        }
      });
      return unpublishedEntries;
    }
  };
}
const mapDispatchToProps = {
  loadEntries: actionLoadEntries,
  traverseCollectionCursor: actionTraverseCollectionCursor,
  loadUnpublishedEntries: collections => loadUnpublishedEntries(collections)
};
const ConnectedEntriesCollection = connect(mapStateToProps, mapDispatchToProps)(EntriesCollection);
export default translate()(ConnectedEntriesCollection);